{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template local_training/create_session_popup

    This template renders session creation form.

    Example context (json):
    {
        "hassubentitiestocreatesession" : true,
        "subentities" : [
            {
                "id" : 1,
                "issubentity" : false,
                "name" : "Entity"
            },
            {
                "id" : 3,
                "issubentity" : true,
                "name" : "Sub entity"
            },
        ],
        "entityid" : 1,
        "subentity" : 1
    }
}}

<div id="create-session-popup" class="text-center">
    <span id="createsessiondialogcontent"></span>
    <div>
        <label for="subentity">
            {{# str }} shortnamesession, local_trainings {{/ str }}
        </label>
        <input type="text" id="name-session-create-admin-session" name="create-session" maxlength="255" size="40" required>
    </div>
    <div id="session-name-used"></div>

    {{#hassubentitiestocreatesession}}
        <div>
            <label for="subentity">
                {{# str }} destination, local_trainings {{/ str }}
            </label>
            <select id="entity" class="custom-select" name="entity">
                {{#subentities}}
                    <option value="{{id}}">{{# issubentity }}| {{/issubentity}}{{name}}</option>
                {{/subentities}}
            </select>
        </div>
    {{/hassubentitiestocreatesession}}

    {{^hassubentitiestocreatesession}}
        <div id="destinationsubentity-container" data-parentid="{{ entityid }}" data-subentity="{{ subentity }}"></div>
    {{/hassubentitiestocreatesession}}

    <div id="create-session-message" class="text-center">
    </div>
</div>
