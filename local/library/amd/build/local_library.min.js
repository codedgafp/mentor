/**
 * Javascript containing function of the library publication
 */

define([
    'jquery',
    'format_edadmin/format_edadmin',
    'local_mentor_core/mentor',
], function ($, format_edadmin, mentor) {
    var local_library = {
        /**s
         * Set publication success modal.
         *
         * @param {int} trainingCourseId
         */
        publicationSuccess: function (trainingCourseId) {
            // Confirm publish popin.
            mentor.dialog(
                '<p class="text-center">' +
                M.util.get_string('publicationtraininglibrarymodal', 'local_library') +
                '</p>',
                {
                    width: 550,
                    title: "Confirmation",
                    close: function () {
                        window.location.href = M.cfg.wwwroot + '/course/view.php?id=' + trainingCourseId;
                    },
                    buttons: [{
                        text: M.util.get_string('close', 'local_mentor_core'),
                        class: "btn btn-primary",
                        click: function () {
                            $(this).dialog("close");
                        }
                    }]
                });

        },
    };

    //add object to window to be called outside require
    window.local_library = local_library;
    return local_library;
});
